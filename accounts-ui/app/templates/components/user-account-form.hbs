<form {{action "submitForm" on="submit"}}>
	<div class="row">
		<div class="col-xs-12"> 
      {{#field-group title=title collapsable=false as |fg|}}
        {{#fg.content}}  
          {{#if isNew}}  
            <div class="form-group row">
              <div class="col-sm-2 col-form-label col-form-label-lg">
                  <label for="username" style="padding-top: 8px;">{{t 'fields.labels.user.username-email'}}:</label>
              </div>
              <div class="col-sm-10">
                  {{input 
                    value=account.email 
                    placeholder=(t 'fields.labels.user.username-email')
                    class="form-control" 
                    autofocus="autofocus" 
                    id="username"
                    focus-out=(action (mut showEmailError) true) }} 
     
                  {{#if showEmailError}} 
                    <div class="error"> 
                      {{v-get account 'email' 'message'}}
                    </div> 
                  {{/if}}  
              </div>
            </div>  
          {{else}} 
            <div class="form-group row">
              <div class="col-sm-2 col-form-label col-form-label-lg">
                  <label >{{t 'fields.labels.user.username'}}:</label>
              </div>
              <div class="col-sm-10">
                  {{account.username}}
              </div>
           </div> 
          {{/if}}


          <div class="form-group row">
            <div class="col-sm-2 col-form-label col-form-label-lg">
              <label for="username" style="padding-top: 8px;">{{t 'fields.labels.user.first-name'}}:</label>
            </div>
            <div class="col-sm-10">
              {{input 
                value=account.first_name 
                placeholder=(t 'fields.labels.user.first-name')
                class="form-control"   
                focus-out=(action (mut showFirstNameError) true) }} 
                              
                {{#if showFirstNameError}}
                  <div class="error">
                    {{v-get account 'first_name' 'message'}}
                  </div>
                {{/if}}
            </div>
          </div>

          <div class="form-group row">
            <div class="col-sm-2 col-form-label col-form-label-lg">
              <label for="username" style="padding-top: 8px;">{{t 'fields.labels.user.last-name'}}:</label>
            </div>
            <div class="col-sm-10">
              {{input 
                value=account.last_name 
                placeholder=(t 'fields.labels.user.last-name')
                class="form-control" 
                focus-out=(action (mut showLastNameError) true) }} 

                {{#if showLastNameError}}
                  <div class="error">
                    {{v-get account 'last_name' 'message'}}
                  </div>
                {{/if}}
            </div>
          </div>
 
          <div class="form-group row">
            <div class="col-sm-2 col-form-label col-form-label-lg">
              <label for="username" style="padding-top: 8px;">{{t 'fields.labels.user.purpose'}}:</label>
            </div>
            <div class="col-sm-10">
              {{input 
                value=account.purpose 
                placeholder=(t 'fields.labels.user.purpose')
                maxlength="255"
                class="form-control" 
                focus-out=(action (mut showPurposeError) true) }} 
                <small>{{t 'fields.labels.user.max-purpose'}}</small>

                {{#if showPurposeError}} 
                  <div class="error"> 
                    {{v-get account 'purpose' 'message'}}
                  </div> 
                {{/if}}  

            </div>

          </div>
          

            {{#unless isNew}}
              {{#if isAdmin}} 
                <hr>
                {{t 'user.edit.resign-roles'}}
                <br>
                Realm name: {{realm.realm_name}}
                <br>
                Available realm roles:
                <br>
                {{#each realm.roles as |role|}}
                  {{role.role_name}} -- Desicption: {{role.description}} <br>
                {{/each}}
                <br> 
                {{#each realm.clients as |client|}}
                  {{client.client_name}} -- Desicption: {{client.description}} <br>
                {{/each}}
              {{/if}}
            {{/unless}}
          {{/fg.content}}  
    		{{/field-group}} 

     	</div>
      <div class="panel-footer text-right">
        {{yield}}
      </div>
 	</div> 
</form>

 
 